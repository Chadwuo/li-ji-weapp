<!-- pages/friend/details/index.wxml -->
<ui-sys title="亲友详情">
	<view class="ui-container bg-blur">
			<view class="flex-column justify-center py-3">
				<view class="flex justify-between align-center">
					<view>
						<view class="text-bold text-xl py-2">{{friend.name}}</view>
						<view wx:if="{{friend.relation}}" class="text-grey text-sm">{{friend.relation}}</view>
					</view>
					<ui-tag ui="sm round text-grey" info="编辑资料" bind:tap="onEditClick" />
				</view>
				<view class="flex justify-center align-end my-4">
					<text class="text-xxl pr-2 text-price text-bold">{{happyTotal-sadTotal}}</text>
					<text class="text-lg ui-TC-2">(收支差)</text>
				</view>
				<view class="ui-grid ui-cols-2 py-4">
					<view class="ui-item border-right text-center">
						<view class="text-xxl text-bold text-red">{{happyTotal}}</view>
						<view class="ui-TC-2 text-sm">收礼({{happyCount}})</view>
					</view>
					<view class="ui-item border-left text-center">
						<view class="text-xxl text-bold text-green">{{sadTotal}}</view>
						<view class="ui-TC-2 text-sm">送礼({{sadCount}})</view>
					</view>
				</view>
			</view>
			<van-empty wx:if="{{giftList.length===0}}" description="还没有记录哦~"></van-empty>
		</view>
	<view class="cu-chat">
		<view wx:for="{{giftList}}" wx:key="index">
			<view class="cu-item self" wx:if="{{item.self}}">
				<view class="main">
					<view class="content bg-orange shadow">
						<view class="flex align-center">
							<view class="{{item.icon}} text-xxl mr-3 borders border-white round p-3" />
							<view class="text-left">
								<view class="text-xl">{{item.money}} 元</view>
								<view class="text-xl mt-2">{{item.title}}</view>
							</view>
						</view>
						<view class="mt-3 flex justify-between">
							<view class="text-sm">{{item.date}}</view>
							<view class="text-sm">礼往</view>
						</view>
					</view>
				</view>
				<ui-avatar ui="lg ellipse" src="{{avatarUrl}}" />
			</view>
			<view class="cu-item" wx:else>
				<ui-avatar ui="lg ellipse" bg="bg-grey-thin" icon="cicon-person" />
				<view class="main">
					<view class="content shadow bg-orange">
						<view class="flex align-center">
							<view class="cicon-moneybag-o text-xxl mr-3 borders border-white round p-3" />
							<view class="text-left">
								<view class="text-xl">{{item.money}} 元</view>
								<view class="text-lg mt-2">{{item.title}}</view>
							</view>
						</view>
						<view class="mt-3 flex justify-between">
							<view class="text-sm">{{item.date}}</view>
							<view class="text-sm">礼来</view>
						</view>
					</view>
				</view>
			</view>
		</view>
	</view>
</ui-sys>