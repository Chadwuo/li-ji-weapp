<!-- pages/friend/index.wxml -->
<ui-sys tabbar>
  <ui-navbar back="{{false}}" isSlot opacity scrollTop="{{scrollTop}}">
    <view class="flex-bar p-3" wx:if="{{scrollTop > sys_navBar}}">
      <image src="/static/logo.png" mode="aspectFill" style="width: 200rpx;height: 56rpx;" />
      <text class="text-lg text-bold">礼记</text>
    </view>
    <view class="p-3 flex-bar flex-sub" wx:if="{{scrollTop > sys_navBar}}">
      <view url="/pages/search/search" class="flex-sub flex-bar">
        <view class="p-2 bg-blur-1 w-100 round border flex-center" style="height: 35px;">
          <text class="cicon-search-line mx-2" />
          <view class="text-c text-sm">键入类名搜索释义</view>
        </view>
      </view>
    </view>
    <view class="flex-bar">
      <view style="{{'width:'+ (sys_capsule.width + 10)+'px; height:' + sys_capsule.height+'px'}}" />
    </view>
  </ui-navbar>
  <van-sticky>
    <van-search model:value="{{ keyword }}" placeholder="请输入搜索关键词" use-action-slot bind:search="onSearch" shape="round">
      <view slot="action" bind:tap="onAdd" style="display: flex;">
        <van-icon name="add" color="#F76664" size="62rpx" />
      </view>
    </van-search>
  </van-sticky>
  <view>
    <van-empty wx:if="{{friendsList.length===0}}" description="还没有记录哦~" />
    <van-index-bar highlight-color="#F76664">
      <view wx:for="{{friendsList}}" wx:key="index">
        <van-index-anchor index="{{item.alpha}}" />
        <van-cell-group inset>
          <van-cell title="{{data.name}}" size="large" bind:click="onFriendClick" wx:for="{{item.subItems}}" wx:for-item="data" wx:key="dataindex" data-friend='{{data}}' />
        </van-cell-group>
      </view>
    </van-index-bar>
  </view>
</ui-sys>