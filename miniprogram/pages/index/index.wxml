<view>
  <van-search model:value="{{ keyword }}" placeholder="请输入搜索关键词" use-action-slot bind:search="onSearch" shape="round">
    <view slot="action" bind:tap="onAddGift" style="display: flex;">
      <van-icon name="add" color="#F76664" size="52rpx" />
    </view>
  </van-search>
  <van-empty wx:if="{{giftBooks.length===0}}" description="还没有记录哦~"></van-empty>
  <view class="book-wrapper">
    <van-row gutter="20">
      <van-col span="12" wx:for="{{giftBooks}}" wx:key="index">
        <view wx:if="{{!item._id}}" class="book" bind:tap="onAddBook">
          <image class="bg" src="/images/bg_book_add.png"></image>
          <view class="content" style="justify-content: center;">
            <van-icon name="plus" size="132rpx" color="#CCCCCC" />
            <view style="text-align: center;padding-top: 56rpx; color: #969799;font-size: small;">
              添加礼簿
            </view>
          </view>
        </view>
        <view wx:else class="book" bind:tap="onBookClick" bind:longpress="onBookLongPress" data-bookid='{{item._id}}'>
          <image class="bg" src="/images/bg_book.png"></image>
          <view class="content">
            <view>
              <view class="name">{{ item.title||'' }}</view>
              <view class="count">共 {{ item.giftCount||0 }} 笔</view>
            </view>
            <view>
              <view class="total">￥ {{ item.giftTotal||'0.00' }}</view>
              <view class="date">{{ item.date||'' }}</view>
            </view>
          </view>
        </view>
      </van-col>
    </van-row>
  </view>
</view>
<!-- 长按动作 -->
<van-action-sheet show="{{ showBookAction }}" actions="{{ bookActions }}" bind:close="onCloseBookAction" bind:cancel="onCloseBookAction" bind:select="onSelectBookAction" cancel-text="取消" close-on-click-overlay />
<!-- 人情编辑组件 -->
<gift-receive-edit id="gift-receive-edit"></gift-receive-edit>
<!-- 礼簿编辑组件 -->
<book-edit id="book-edit"></book-edit>
<!-- 页脚 -->
<footer></footer>